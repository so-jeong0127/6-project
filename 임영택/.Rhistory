}
print(dt) # 진행상황을 알기 위함이니 속도가 느려지면 제외
}
NEWS0 <- as.data.frame(cbind(date=news_date, url=news_url, query=QUERY))
NEWS1 <- NEWS0[which(grepl("news.naver.com",NEWS0$url)),]         # 네이버뉴스(news.naver.com)만 대상으로 한다
NEWS1 <- NEWS1[which(!grepl("sports.news.naver.com",NEWS1$url)),] # 스포츠뉴스(sports.news.naver.com)는 제외한다
NEWS2 <- NEWS1[!duplicated(NEWS1), ] # 중복된 링크 제거
## 뉴스 페이지에 있는 기사의 제목과 본문을 크롤링
NEWS2$news_title   <- ""
NEWS0 <- as.data.frame(cbind(date=news_date, url=news_url, query=QUERY))
NEWS1 <- NEWS0[which(grepl("news.naver.com",NEWS0$url)),]         # 네이버뉴스(news.naver.com)만 대상으로 한다
NEWS1 <- NEWS1[which(!grepl("sports.news.naver.com",NEWS1$url)),] # 스포츠뉴스(sports.news.naver.com)는 제외한다
NEWS1 <- NEWS1[which(!grepl("sports.news.naver.com",NEWS1$url)),] # 스포츠뉴스(sports.news.naver.com)는 제외한다
NEWS1 <- NEWS1[which(!grepl("sports.news.naver.com",NEWS1$url)),] # 스포츠뉴스(sports.news.naver.com)는 제외한다
NEWS1 <- NEWS0[which(grepl("news.naver.com",NEWS0$url)),]         # 네이버뉴스(news.naver.com)만 대상으로 한다
NEWS1 <- NEWS1[which(!grepl("sports.news.naver.com",NEWS1$url)),] # 스포츠뉴스(sports.news.naver.com)는 제외한다
NEWS2 <- NEWS1[!duplicated(NEWS1), ] # 중복된 링크 제거
NEWS2 <- NEWS1
## 뉴스 페이지에 있는 기사의 제목과 본문을 크롤링
NEWS2$news_title   <- ""
NEWS2$news_content <- ""
for (i in 1:dim(NEWS2)[1]){
html <- read_html(as.character(NEWS2$url[i]))
temp_news_title   <- repair_encoding(html_text(html_nodes(html,'#articleTitle')),from = 'utf-8')
temp_news_content <- repair_encoding(html_text(html_nodes(html,'#articleBodyContents')),from = 'utf-8')
if (length(temp_news_title)>0){
NEWS2$news_title[i]   <- temp_news_title
NEWS2$news_content[i] <- temp_news_content
}
}
NEWS2$news_content <- gsub("// flash 오류를 우회하기 위한 함수 추가\nfunction _flash_removeCallback()", "", NEWS2$news_content)
NEWS <- NEWS2 # 최종 결과 저장
save(NEWS, file="./DATA0/NEWS.RData") # working directory 아래 subfolder "DATA0" 에 저장
library( KoNLP )
useSejongDic()
word_data <- sapply( NEWS$news_content, extractNoun, USE.NAMES = F )
word_data
undata <- unlist( word_data )
undata
word_table <- table( undata )
word_table
undata2 <- undata[ nchar( undata ) >= 2 ]
undata2
word_table2 <- table( undata2 )
word_table2
sort( word_table2, decreasing = T )
library( wordcloud2 )
wordcloud2( word_table2, minRotation = -pi / 6, maxRotation = -pi / 6, rotateRatio = 1 )
t
setwd("D:/6-project/임영택")
yesan <- read.csv("예산.csv", encoding = UTF-8)
yesan <- read.csv("예산.csv", encoding = "UTF-8")
yesan
yesan <- read.csv("예산.csv")
yesan
yesan <- read.csv("예산.csv", header = F)
yesan
yesan <- read.csv("예산.csv", header = T)
yesan
setwd("D:/6-project/임영택")
yesan <- read.csv("예산.csv", header = T)
yesan
#
# 6조 프로젝트
# 임영택
#
library(ggplot2)
ggplot(yesan, aes(x = 총예산, y = 문화및관광))+
geom_histogram()
ggplot(yesan, aes(x = '총예산', y = '문화및관광'))+
geom_histogram()
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광))+
geom_histogram()
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광)) +
geom_histogram()
library(tidyverse)
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광)) +
geom_histogram()
setwd("D:/6-project/임영택")
yesan <- read.csv("예산.csv", header = T)
yesan
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광)) +
geom_histogram()
library(dplyr)
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광)) +
geom_histogram()
#
# 6조 프로젝트
# 임영택
#
library(ggplot2)
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광)) +
geom_histogram()
library(ggplot)
ggplot(yesan, aes(x = yesan$총예산, y = yesan$문화및관광)) +
geom_histogram()
ggplot(yesan, aes(x = yesan$총예산)) +
geom_histogram(binwidth = 1000000)
ggplot(yesan, aes(x = yesan$총예산)) +
geom_histogram(binwidth = 100000000)
ggplot(yesan, aes(x = yesan$총예산)) +
geom_histogram(binwidth = 1000000000)
ggplot(yesan, aes(x = yesan$총예산)) +
geom_histogram(binwidth = 500000000)
setwd("D:/6-project/임영택")
yesan <- read.csv("예산.csv", header = T)
yesan
setwd("D:/6-project/임영택")
yesan <- read.csv("예산.csv", header = T)
yesan
ggplot(yesan, aes(x = yesan$총예산)) +
geom_histogram(binwidth = 1000)
ggplot(yesan, aes(x = yesan$총예산)) +
geom_histogram(binwidth = 1)
ggplot(yesan, aes(x = yesan$총예산)) +
geom_bar()
ggplot(yesan, aes(x = yesan$총예산)) +
geom_bar(width = 5)
ggplot(yesan, aes(x = yesan$총예산)) +
geom_bar(width = 1000)
year <- 2016:2019
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_bar(width = 1000)
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red')
yesan$총예산
e
year <- 2016:2020
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red')
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red') +
labs = c( x = "년도" , y = "제주예산")
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red') +
labs( x = "년도" , y = "제주예산")
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
labs( x = "년도" , y = "제주예산")
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
+
labs( x = "년도" , y = "제주예산")
ggplot(yesan, aes(x = year , y = yesan$총예산)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산")
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = 0,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = 1,
hjust = 1))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1,
hjust = -1))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = 0,
hjust = -1))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = 0,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = 1,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -2,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.5,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.3,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.2,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan <- read.csv("예산.csv", header = T)
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan <- read.csv("예산.csv", header = T)
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan <- read.csv("예산.csv", header = T)
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan1 <- ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan1
# 1년 예산
ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 예산 (단위 :십만1)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan1
ggplot(yesan, aes(x = year , y = yesan$문화및관광)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$문화및관광,
vjust = -1.1,
hjust = 0))
ggplot(yesan, aes(x = year , y = yesan$문화및관광)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$문화및관광,
vjust = -1.1,
hjust = 1))
ggplot(yesan, aes(x = year , y = yesan$문화및관광)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$문화및관광,
vjust = -1.1,
hjust = 0.5))
yesan <- read.csv("예산.csv", header = T)
ggplot(yesan, aes(x = year , y = yesan$문화및관광)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$문화및관광,
vjust = -1.1,
hjust = 0.5))
source('D:/6-project/임영택/project.R', encoding = 'UTF-8')
ggplot(mtcars, aes(x= wt, y=mpg)) +
geom_point() +
annotate("rect", # 사각형 표시
xmin = 3,
xmax = 4,
ymin = 12,
ymax = 21,
alpha = 0.5, # 투명도
fill = "skyblue") +
annotate("segment", x = 2.5, xend = 3.7, #화살표
y=10, yend = 17, color = "red",
arrow = arrow() ) +
annotate("text", x=2.5, y=10, # 텍스트입력
label = "point")
ggplot(yesan, aes(x = year , y = yesan$문화및관광)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$문화및관광,
vjust = -1.1,
hjust = 0.5))
munhwa <- ggplot(yesan, aes(x = year , y = yesan$문화및관광)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$문화및관광,
vjust = -1.1,
hjust = 0.5))
yesan1
munhwa
yesan1
munhwa
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'blue') +
ggtitle("제주도 1년 문화예산 (단위 : % )")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'green') +
ggtitle("제주도 1년 문화예산 (단위 : % )")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'yellow') +
ggtitle("제주도 1년 문화예산 (단위 : % )")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'black') +
ggtitle("제주도 1년 문화예산 (단위 : % )")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'red') +
ggtitle("제주도 1년 문화예산 (단위 : % )")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
ggplot(yesan, aes(x = year , y = yesan$증감률)) +
geom_line(color = 'red') +
ggtitle("예산 대비 증감률 (단위 : % )")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$증감률,
vjust = -1.1,
hjust = 0.5))
# 1년 예산
yesan1 <- ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'black') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "돋움체", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan1
# 1년 예산
yesan1 <- ggplot(yesan, aes(x = year , y = yesan$총예산_10만)) +
geom_line(color = 'black') +
ggtitle("제주도 1년 예산 (단위 :십만)")+
theme(plot.title = element_text(size = 25, #글자사이즈
face = "bold", # 글자 폰트
colour = "steelblue")) + # 글자 색상
labs( x = "년도" , y = "제주예산") +
geom_text(aes(label = yesan$총예산_10만,
vjust = -1.1,
hjust = 0))
yesan1
library(tidyverse)
library(showtext) # 글꼴, install.packages("showtext")
install.packages("showtext")
library(showtext)
library(extrafont)
loadfonts()
font_add("NanumBarunGothic", "NanumBarunGothic.ttf")
